<!doctype html>
<html>
  <head>
    <meta charset="utf-8" />
    <title>let's do some graphics</title>
    <script src="../dist/graphics-element.js" type="module" async></script>
    <link rel="stylesheet" href="../dist/graphics-element.css" />

    <style>
      html,
      body {
        font-family: sans-serif;
        font-size: 16px;
      }
      h3 {
        text-align: center;
      }
      main {
        display: flex;
        flex-direction: row;
        justify-content: space-between;
      }
      #editor {
        flex: 1;
        min-width: 40em;
        max-width: calc(100% - 650px - 2em);
        min-height: 600px;
        & div.editor {
          min-height: 600px;
          border: 1px solid grey;
        }
      }
      graphics-element {
        position: sticky;
        top: 0;
        width: 650px;
        margin-left: 1em;
      }
      graphics-element table.slider-wrapper {
        background: #ececec;
        margin-bottom: 0.25em;
      }
      button {
        border-radius: 5px;
        margin: 2px 5px;
        &.clear {
          background: none;
          border: 1px solid #444;
          color: #999;
          position: absolute;
          right: 1em;
          top: 1em;
          cursor: pointer;
        }
      }
      button.active {
        color: white;
        background: darkgreen;
        border: 2px solid green;
        border-radius: 5px;
        &:hover {
          background: rgb(0, 50, 0);
        }
        &:active {
          color: darkgreen;
          background: white;
        }
      }
    </style>

    <!-- test -->
    <script>
      var require = {
        paths: { vs: "./monaco-editor/min/vs" },
      };
    </script>
    <script src="./monaco-editor/min/vs/loader.js" async defer></script>
    <script
      src="./monaco-editor/min/vs/editor/editor.main.nls.js"
      async
      defer
    ></script>
    <script
      src="./monaco-editor/min/vs/editor/editor.main.js"
      async
      defer
    ></script>

    <script type="module" src="editor.js" async></script>
  </head>
  <body>
    <h3>
      A simple code editor for testing
      <a href="..">&lt;graphics-element&gt;</a> source code
    </h3>

    <span id="gist">load a gist: <button>...</button> </span>

    or load a demo:

    <span id="demos">
      <button class="active" data-src="../graphics/pid-example.js">
        PID controller tuning
      </button>
      <button
        data-src="../graphics/point-example.js"
        data-extra-sources='["../graphics/add-points.js"]'
      >
        Curve plotting
      </button>
      <button data-src="../graphics/trigonometry.js">
        trigonometric identities
      </button>
      <button
        data-src="../graphics/flightpath.js"
        data-extra-sources='["../graphics/airplane.js"]'
      >
        flightpath navigation
      </button>
      <button data-src="../graphics/cabinet.js">projective 3D</button>
      <button data-src="../graphics/homogeneous.js">homogeneous 3D</button>
      <button data-src="../graphics/shape.js">Shapes</button>
      <button data-src="./new-project.js">blank project</button>
    </span>

    <button class="clear">clear cached code</button>

    <main>
      <div id="editor"></div>
      <div id="graphics">
        <graphics-element width="650" height="500"></graphics-element>
      </div>
    </main>

    <dialog data-for="gist">
      <p>Paste your gist identifier here<br>(Note: <b>not the URL</b>, only the id)</p>
      <input type="text" placeholder="Gist identifier..." value="">
      <button>load</button>
    </dialog>

    <dialog data-for="gist-warning">
      <p>You can edit your gist code in this editor,<br>but remember that it can't save it for you!</p>
      <button>Got it</button>
    </dialog>
  </body>
</html>
